//=========================================================
// _grid.scss
//
// Info:  Flexbox, wrapping, and alignment for containers
//=========================================================

//=====================================
// SASS
//=====================================

//=================
// MIXINS
//
// Info:  Determine flexbox layout
//=================
@mixin flex($direction, $wrap) {
    display: flex;

    @if $direction == "row" {
        flex-direction: row;
    }
    @else if $direction == "column" {
        flex-direction: column;
    }

    @if $wrap == "wrap" {
        flex-wrap: wrap;
    }
    @else if $wrap == "nowrap" {
        flex-wrap: nowrap;
    }
}


//=====================================
// Global
//=====================================

//=================
// BODY
//
// Info:  Page sizing and layout
//=================
body {
    width: 100%;

    /* Layout for restaurant.html */
    &.restaurant{
        @include flex("column", "nowrap");
    }
}



//=====================================
// Sections
//=====================================

//=================
// HEADER
//
// File:  *.html
// Info:  Header bar layout
//=================
.container__header {
    @include flex("row", "nowrap");
    align-items: center;
    flex: none;
}

//=================
// MAP
//
// File:  *.html
// Info:  Wrapper for map
//=================
/* Map sizing; changes above small items */
.container__map {
    .map {
        height: 400px;
        width: 100%;
    }
}

//=================
// FILTERS
//
// File:  index.html
// Info:  Wrapping for restaurant list filters
//=================
.container__filter {
    /* Grow/shrink filters with device */
    align-items: center;
    @include flex("row", "nowrap");

    /* Don't span to fit the container */
    >select {
        flex-basis: 20%;
    }
}

//=================
// LIST
//
// File:  index.html
// Info:  Wrapping for list of restaurants
//=================
.container__list {
    @include flex("row", "wrap");

    >li {
        @include flex("column", "nowrap");
    }
}

//=================
// CONTENT
//
// File:  restaurant.html
// Info:  Wrapper for info panel and map
//=================
.container__content {
    @include flex("column", "nowrap");

    /* Keep breadcrumb on top */
    .container__breadcrumb {
        order: 1;
    }

    /* Put map before info in small layout */
    .container__map {
        align-self: stretch;
        order: 2;
    }

    /* Info panel after map in small layout */
    .container__info {
        align-self: stretch;
        order: 3;
    }
}

//=================
// INFORMATION
//
// File:  restaurant.html
// Info:  Wrapper for inside info panel
//=================
.container__info {
    @include flex("column", "nowrap");
    overflow: auto;
}

//=================
// RESTAURANT
//
// File:  restaurant.html
// Info:  Wrapping for restaurant listing
//=================
.container__restaurant {
    @include flex("column", "nowrap");
}

//=================
// REVIEWS
//
// File:  restaurant.html
// Info:  Wrapping for restaurant reviews
//=================
.container__reviews {
    @include flex("column", "nowrap");

    li {
        @include flex("column", "nowrap");

        div:first-of-type {
            @include flex("row", "nowrap");
            align-items: center;
            justify-content: space-between;
        }
    }
}

//=================
// FOOTER
//
// File:  *.html
// Info:  Wrapping for footer
//=================
.container__footer {
    @include flex("row", "wrap");
    align-items: center;
    flex: none;
}



//=====================================
// Media
//=====================================

//=================
// SMALL
//
// Size:  640px
// Info:  Small devices
//=================
@media (min-width: 40rem) {
    /* Two restaurants per row */
    .container__list>li {
        flex: 1 0 40%;
    }
}

//=================
// MEDIUM
//
// Size:  800px
// Info:  Medium devices
//=================
@media (min-width: 50rem) {
    /* Three restaurants per row */
    .container__list>li {
        flex: 1 1 25%;
    }
}

//=================
// LARGE
//
// Size:  960px
// Info:  Large devices
//=================
@media (min-width: 60rem) {
    body.restaurant {
        max-height: 100vh;
        // height: 100vh;
    }

    /* Five restaurants per row */
    .container__list>li {
        flex: 1 1 15%;
    }

    /* Switch info panel/map to be side-by-side */
    .container__content {
        flex-flow: row wrap;

        /* Side panel will scroll */
        .container__info {
            order: 2;
            flex: 1;
            overflow: auto;

            section {
                flex-shrink: 0;
            }
        }

        /* Reorder map in layout */
        .container__map {
            order: 3;
            flex: 2;
        }
    }

    /* Map will fit parent height now that layout has changed */
    .map.restaurants {
        height: 100%;
    }
}
